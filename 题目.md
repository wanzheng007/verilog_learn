[TOC]

## 例题

### 例101，组合逻辑和时序逻辑设计

- 异或逻辑的组合逻辑实现
- 异或逻辑的时序逻辑实现
- $z=a\wedge b$

### 例102，分频计数器设计

- 输入时钟100MHz，产生一个1MHz的低频时钟
  - 100MHz / 1MHz = 100
  - 即需要对100MHz时钟做100分频
  - 计数器循环计数周期是0~99

### 例103，使能时钟设计

- 输入时钟100MHz，产生一个5MHz的时钟使能信号，并使此时钟使能信号进行0~15的周期计数
  - 100MHz / 5MHz = 20
  - 即需要对100MHz时钟做20分频的计数（0~19周期计数）
  - 每20个100MHz的时钟周期，都有一个保持1个时钟周期的高脉冲信号产生

### 例104，基于BUFGCE原语的门控时钟设计

- FPGA系统时钟100MHz
- 系统每秒进行一次数据的采集与处理，每次维持10ms，其余时间空闲
- 希望系统空闲时，关闭100MHz的工作时钟
- 使用BUFGCE原语实现此功能

### 例105，Verilog中的并行设计

1. 使用两个always语句分别实现4位加法器，看看是否计数值的变化是同步的
2. 分别将同一个递增变化的输入值赋给同一个always语句中的两个寄存器，看看这两个寄存器的值是否同步递增

### 例106，同步复位与异步复位

1. 设计同步复位与异步复位信号，通过波形仿真，看看两者的区别
2. 对异步复位信号，先做同步处理，再作异步复位信号使用

### 例107，脉冲边沿检测设计

对变化信号做脉冲边沿检测，检测上升沿，生成一个脉冲信号

### 例108，脉冲计数器

- 输入脉冲：1路
- 使能信号：高电平进行计数，低电平清零计数器
- 计数器：在使能信号高电平期间，对脉冲信号的上升沿进行检测并递增计数值

### 例109，模块化设计

设计一个脉冲计数器，其功能如下

- 输入脉冲：**4路脉冲信号**，分别对每路进行脉冲检测并计数
- 使能信号：高电平进行计数，低电平清零计数器
- 计数器：在使能信号高电平期间，对脉冲信号的上升沿进行检测并递增计数值
- 编写测试脚本，进行仿真验证

### 例110，generate语法的使用

设计一个脉冲计数器，其功能如下

- 输入脉冲：**16路脉冲信号**，分别对每路进行脉冲检测并计数
- 使能信号：高电平进行计数，低电平清零计数器
- 计数器：在使能信号高电平期间，对脉冲信号的上升沿进行检测并递增计数值
- 编写测试脚本，进行仿真验证









------

------

------

## 课后练习题

### 练习102，分频计数器设计

对一个25MHz的时钟，分频产生一个400kHz的时钟

- 编写Verilog代码；编写测试脚本，搭建仿真平台；运行仿真，查看波形

### 练习103，使能时钟设计

对一个25MHz的时钟，分频产生一个5MHz的时钟使能信号

- 编写Verilog代码；编写测试脚本，搭建仿真平台；运行仿真，查看波形

### 练习104，基于BUFGCE原语的门控时钟设计

1. FPGA系统时钟100MHz

- 系统每隔10ms进行一次数据的采集与处理，每次维持2ms，其余时间空闲
- 希望系统空闲时，关闭100MHz的工作时钟
- 使用BUFGCE原语实现此功能
  - 编写Verilog代码；编写测试脚本，搭建仿真平台；运行仿真，查看波形

2. FPGA系统快速时钟100MHz，慢速时钟1MHz

- 系统每秒进行一次数据的采集与处理，每次维持10ms，其余时间空闲
- 数据采集与处理时，FPGA工作在100MHz快时钟（10ms/s）
- 系统空闲时，FPGA工作在1MHz慢时钟（990ms/s）
- 使用Xilinx BUFGMUX原语实现此功能
  - 编写Verilog代码；编写测试脚本，搭建仿真平台；运行仿真，查看波形
  - 参考文档：Xilinx《ug472_7Series_Clocking.pdf》

### 练习105，Verilog中的并行设计

类似实例2的设计，将一个递增变化的输入值赋值给寄存器1，同时寄存器1赋值给寄存器2，寄存器1和寄存器2在同一个always语句里面实现，看看这两个寄存器的值是如何变化的，思考一下这样变化的结果符合FPGA的并行性吗？

（这样设计的结果依旧符合FPGA的并行性，只要是使用非阻塞赋值`<=`，就是符合并行性的）

### 练习106，同步复位与异步复位

删除设计模块中一些不必要的数据逻辑的复位控制

- 液晶屏驱动工程at7_ex14（STAR FPGA开发板），液晶屏显示器驱动模块lcd_ctrl.v
- 对此模块的复位做优化，看看哪些逻辑中的复位信号其实是可以不需要的
- 修改后可以比对lcd_ctrl_reset_optimize.v模块，看看修改的结果是否一致

### 练习107，脉冲边沿检测设计

1. 使用脉冲边沿检测法设计一个下降沿检测功能

   （将i_pulse[0]取反，与i_pulse[1]相与，就可以检测下降沿）

2. 使用脉冲边沿检测法设计一个双沿检测功能

   （将i_pulse[0]与i_pulse[1]直接异或，就可以做到双沿检测）

### 练习108，脉冲计数器

设计一个脉冲计数器，其功能如下

- 输入脉冲：4路脉冲信号，分别对每路进行脉冲检测并计数
- 使能信号：高电平进行计数，低电平清零计数器
- 计数器：在使能信号高电平期间，对脉冲信号的上升沿进行检测并递增计数值
- 编写测试脚本，进行仿真验证

### 练习109，模块化设计

设计一个脉冲计数器，其功能如下

- 输入脉冲：16路脉冲信号，分别对每路进行脉冲检测并计数
- 使能信号：高电平进行计数，低电平清零计数器
- 计数器：在使能信号高电平期间，对脉冲信号的上升沿进行检测并递增计数值
- 编写测试脚本，进行仿真验证

### 练习110，generate语法的使用

使用generate语法设计一个脉冲计数器，其功能如下

- 输入脉冲：16路脉冲信号，分别对每路进行脉冲检测并计数
- 使能信号：**16路脉冲分别有独立的使能信号**，高电平进行计数，低电平清零计数器
- 计数器：在使能信号高电平期间，对脉冲信号的上升沿进行检测并递增计数值
- 编写测试脚本，进行仿真验证
